@using TugasAsinkron2.Models.DataContext
@model Product
@{
    ViewData["title"] = "Update Product";
    List<Supplier> supplier = new List<Supplier>();
    using (var db = new DataContext()){
        supplier = db.Suppliers.ToList();
    }
}

<form method="post">
    <div class="row">
        <div class="col-md-12">
            <div class="form-group">
                <label>Nama Product</label>
                <input asp-for="ProductName" class="form-control" />
            </div>
            @*Untuk Supplier perlu membuat dropdown dari tabel Nama Supplier,
            Tabel akan saya buat langsung pada halaman ini dengan EF Core
            *@
            <div class="form-group">
                <label>Nama Supplier</label>
                <select asp-for="SupplierId" class="form-control">
                    @foreach (var s in supplier)
                    {
                        <option value="@s.Id">@s.CompanyName</option>
                    }
                </select>
            </div>
            <div class="form-group">
                <label>Unit Price</label>
                <input asp-for="UnitPrice" class="form-control" />
            </div>
            <div class="form-group">
                <label>Package</label>
                <input asp-for="Package" class="form-control" />
            </div>
            <input type="hidden" asp-for="IsDiscontinued" />
            <div class="form-group">
                <button type="submit" class="btn btn-success" style="margin-top:10px" asp-action="Update">UPDATE PRODUCT</button>
            </div>
        </div>
    </div>
</form>
